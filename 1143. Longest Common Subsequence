int dp[1001][1001];
int lcs(char* t1, char* t2, int m, int n) {
    if (m == 0 || n == 0)
        return 0;

    if (dp[m][n] != -1)
        return dp[m][n];

    if (t1[m - 1] == t2[n - 1])
        dp[m][n] = 1 + lcs(t1, t2, m - 1, n - 1);
    else {
        int a = lcs(t1, t2, m - 1, n);
        int b = lcs(t1, t2, m, n - 1);
        dp[m][n] = (a > b) ? a : b;
    }

    return dp[m][n];
}

int longestCommonSubsequence(char* text1, char* text2) {
    int m = strlen(text1);
    int n = strlen(text2);

    for(int i=0;i<=m;i++){
        for(int j=0;j<=n;j++){
            dp[i][j]=-1;
        }
    }

    return lcs(text1, text2, m, n);
}
